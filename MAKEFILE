CC = gcc
CFLAGS = -Wall -Wextra -Werror -pthread
LDFLAGS = -lpthread -lcrypto
INCLUDES=-I./include

all: pmll

pmll: unified_voice.o pml_logic_loop.o knowledge_graph.o main.o
	$(CC) $(CFLAGS) $(LDFLAGS) $(INCLUDES) -o pmll unified_voice.o pml_logic_loop.o knowledge_graph.o main.o

unified_voice.o: unified_voice.c
	$(CC) $(CFLAGS) $(INCLUDES) -c unified_voice.c

pml_logic_loop.o: pml_logic_loop.c
	$(CC) $(CFLAGS) $(INCLUDES) -c pml_logic_loop.c

knowledge_graph.o: knowledge_graph.c
	$(CC) $(CFLAGS) $(INCLUDES) -c knowledge_graph.c

main.o: main.c
	$(CC) $(CFLAGS) $(INCLUDES) -c main.c

clean:
	rm -f *.o pmll

run:
	./pmll
